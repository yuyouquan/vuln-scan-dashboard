<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="refresh" content="60">
    <title>ğŸ›¡ï¸ æ¼æ´æ‰«æçœ‹æ¿</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'SF Mono', 'Segoe UI', Roboto, sans-serif; background: #0d1117; color: #c9d1d9; min-height: 100vh; }
        
        .header { background: linear-gradient(180deg, #161b22 0%, #0d1117 100%); padding: 20px 30px; border-bottom: 1px solid #30363d; display: flex; justify-content: space-between; align-items: center; }
        .header h1 { color: #58a9ff; font-size: 22px; font-weight: 600; }
        .header .time { color: #8b949e; font-size: 13px; }
        
        .toolbar { padding: 15px 30px; background: #161b22; border-bottom: 1px solid #30363d; display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 15px; }
        .search-box { display: flex; align-items: center; gap: 10px; }
        .search-box input { background: #0d1117; border: 1px solid #30363d; border-radius: 6px; padding: 8px 12px; color: #c9d1d9; font-size: 13px; width: 200px; }
        .search-box input:focus { outline: none; border-color: #58a9ff; }
        .filter-btns { display: flex; gap: 8px; }
        .filter-btn { padding: 6px 14px; background: #21262d; border: 1px solid #30363d; border-radius: 6px; color: #c9d1d9; font-size: 12px; cursor: pointer; transition: all 0.2s; }
        .filter-btn:hover, .filter-btn.active { background: #238636; border-color: #3fb950; color: #fff; }
        
        .stats-bar { display: grid; grid-template-columns: repeat(4, 1fr); gap: 1px; background: #30363d; }
        .stat { background: #161b22; padding: 15px 20px; text-align: center; }
        .stat-value { font-size: 28px; font-weight: 700; color: #58a9ff; }
        .stat-label { font-size: 11px; margin-top: 4px; color: #8b949e; text-transform: uppercase; }
        
        .pagination-bar { padding: 15px 30px; background: #161b22; border-bottom: 1px solid #30363d; display: flex; justify-content: space-between; align-items: center; }
        .page-info { color: #8b949e; font-size: 13px; }
        .page-size select { background: #21262d; border: 1px solid #30363d; border-radius: 6px; padding: 6px 10px; color: #c9d1d9; font-size: 12px; cursor: pointer; }
        
        .targets-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(320px, 1fr)); gap: 16px; padding: 24px; }
        
        .target-card { background: #161b22; border: 1px solid #30363d; border-radius: 10px; overflow: hidden; transition: all 0.25s; cursor: pointer; }
        .target-card:hover { border-color: #58a9ff; transform: translateY(-3px); box-shadow: 0 8px 25px rgba(0,0,0,0.4); }
        .target-card.hidden { display: none; }
        .target-card.scanning, .target-card.running { border-left: 4px solid #3fb950; }
        .target-card.done, .target-card.completed { border-left: 4px solid #58a9ff; }
        .target-card.waiting { border-left: 4px solid #f0883e; }
        
        .card-header { padding: 16px; background: #21262d; display: flex; justify-content: space-between; align-items: center; }
        .card-title { font-size: 15px; font-weight: 600; color: #58a9ff; }
        .status-badge { padding: 4px 10px; border-radius: 12px; font-size: 11px; font-weight: 500; }
        .status-badge.scanning, .status-badge.running { background: #238636; color: #fff; }
        .status-badge.done, .status-badge.completed { background: #58a9ff; color: #fff; }
        .status-badge.waiting { background: #f0883e; color: #000; }
        
        .card-body { padding: 16px; }
        .progress-row { display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px; }
        .progress-label { font-size: 12px; color: #8b949e; }
        .progress-value { font-size: 14px; font-weight: 700; color: #3fb950; }
        .progress-bar { height: 8px; background: #30363d; border-radius: 4px; overflow: hidden; }
        .progress-fill { height: 100%; background: linear-gradient(90deg, #3fb950, #58a9ff); border-radius: 4px; transition: width 0.5s ease; }
        
        .target-count { margin-top: 12px; font-size: 12px; color: #8b949e; }
        
        /* Modal */
        .modal-overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.85); z-index: 9999; align-items: center; justify-content: center; }
        .modal-overlay.show { display: flex; }
        .modal { background: #161b22; border: 1px solid #30363d; border-radius: 14px; width: 95%; max-width: 800px; max-height: 90vh; overflow: hidden; display: flex; flex-direction: column; }
        .modal-header { padding: 20px 24px; background: #21262d; border-bottom: 1px solid #30363d; display: flex; justify-content: space-between; align-items: center; }
        .modal-title { font-size: 18px; font-weight: 600; color: #58a9ff; }
        .modal-close { font-size: 28px; color: #8b949e; cursor: pointer; line-height: 1; }
        .modal-close:hover { color: #fff; }
        .modal-body { padding: 24px; overflow-y: auto; flex: 1; }
        
        .modal-progress { margin-bottom: 24px; }
        .modal-progress .row { display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; }
        .modal-progress .label { color: #8b949e; }
        .modal-progress .value { font-weight: 600; }
        .modal-progress .bar { height: 10px; background: #30363d; border-radius: 5px; overflow: hidden; }
        .modal-progress .fill { height: 100%; background: linear-gradient(90deg, #3fb950, #58a9ff); }
        
        .sub-targets { margin-top: 20px; }
        .sub-targets h3 { font-size: 14px; color: #8b949e; margin-bottom: 12px; text-transform: uppercase; letter-spacing: 0.5px; }
        
        .sub-target { background: #0d1117; border-radius: 8px; margin-bottom: 12px; overflow: hidden; }
        .sub-header { padding: 12px 16px; background: #21262d; display: flex; justify-content: space-between; align-items: center; }
        .sub-url { font-size: 13px; color: #c9d1d9; font-weight: 500; }
        .sub-tools-count { font-size: 11px; color: #8b949e; }
        
        .tools-list { padding: 12px 16px; }
        
        .tool-item { background: #161b22; border-radius: 6px; margin-bottom: 8px; padding: 12px; }
        .tool-item:last-child { margin-bottom: 0; }
        .tool-header { display: flex; align-items: center; gap: 10px; margin-bottom: 8px; }
        .tool-name { padding: 3px 10px; border-radius: 4px; font-size: 11px; font-weight: 600; }
        .tool-strix { background: #238636; color: #fff; }
        .tool-nikto { background: #f0883e; color: #000; }
        .tool-nmap { background: #58a9ff; color: #fff; }
        .tool-status { margin-left: auto; font-size: 11px; padding: 3px 8px; border-radius: 10px; }
        .tool-status.scanning, .tool-status.running { background: #238636; color: #fff; }
        .tool-status.done, .tool-status.completed { background: #58a9ff; color: #fff; }
        .tool-status.waiting { background: #f0883e; color: #000; }
        
        .tool-progress-row { display: flex; align-items: center; gap: 10px; margin-bottom: 8px; }
        .tool-progress-bar { flex: 1; height: 5px; background: #30363d; border-radius: 3px; }
        .tool-progress-fill { height: 100%; background: #3fb950; border-radius: 3px; }
        .tool-progress-num { font-size: 12px; color: #3fb950; font-weight: 600; min-width: 40px; text-align: right; }
        
        .tool-detail { background: #0d1117; border-radius: 4px; padding: 10px; font-size: 12px; }
        .detail-row { display: flex; gap: 10px; margin-bottom: 5px; }
        .detail-row:last-child { margin-bottom: 0; }
        .detail-row .label { color: #8b949e; min-width: 70px; }
        .detail-row .value { color: #c9d1d9; }
        .detail-row .highlight { color: #f0883e; font-weight: 600; }
        
        .pagination { display: flex; justify-content: center; gap: 8px; padding: 20px; }
        .page-btn { padding: 8px 14px; background: #21262d; border: 1px solid #30363d; border-radius: 6px; color: #c9d1d9; font-size: 13px; cursor: pointer; }
        .page-btn:hover, .page-btn.active { background: #238636; border-color: #3fb950; }
        .page-btn:disabled { opacity: 0.5; cursor: not-allowed; }
        
        .empty-state { text-align: center; padding: 60px 20px; color: #8b949e; }
    </style>
</head>
<body>
    <div class="header">
        <h1>ğŸ›¡ï¸ æ¼æ´æ‰«æçœ‹æ¿</h1>
        <span class="time">2026-02-22 11:48:17 | é¡¹ç›®æ•°: 30</span>
    </div>
    
    <div class="toolbar">
        <div class="search-box">
            <input type="text" id="searchInput" placeholder="æœç´¢é¡¹ç›®åç§°..." oninput="filterProjects()">
        </div>
        <div class="filter-btns">
            <button class="filter-btn active" onclick="setFilter('all')">å…¨éƒ¨</button>
            <button class="filter-btn" onclick="setFilter('scanning')">æ‰«æä¸­</button>
            <button class="filter-btn" onclick="setFilter('done')">å·²å®Œæˆ</button>
            <button class="filter-btn" onclick="setFilter('waiting')">ç­‰å¾…ä¸­</button>
        </div>
    </div>
    
    <div class="stats-bar">
        <div class="stat"><div class="stat-value">0</div><div class="stat-label">æ€»è¿›ç¨‹</div></div>
        <div class="stat"><div class="stat-value">0</div><div class="stat-label">Strix</div></div>
        <div class="stat"><div class="stat-value">0</div><div class="stat-label">Nikto</div></div>
        <div class="stat"><div class="stat-value">0</div><div class="stat-label">Nmap</div></div>
    </div>
    
    <div class="pagination-bar">
        <span class="page-info" id="pageInfo">å…± 30 ä¸ªé¡¹ç›®</span>
        <div class="page-size">
            æ¯é¡µæ˜¾ç¤º: <select id="pageSize" onchange="changePageSize()">
                <option value="8" selected>8 æ¡</option>
                <option value="16">16 æ¡</option>
                <option value="32">32 æ¡</option>
            </select>
        </div>
    </div>
    
    <div class="targets-grid" id="targetsGrid"></div>
    
    <div class="pagination" id="pagination"></div>
    
    <!-- Modal -->
    <div class="modal-overlay" id="modalOverlay">
        <div class="modal" onclick="event.stopPropagation()">
            <div class="modal-header">
                <span class="modal-title" id="modalTitle">é¡¹ç›®è¯¦æƒ…</span>
                <span class="modal-close" onclick="closeModal()">&times;</span>
            </div>
            <div class="modal-body" id="modalBody"></div>
        </div>
    </div>

    <script>
        // é¡¹ç›®æ•°æ®
        const projectsData = [{"index": 0, "name": "Tripadvisor", "status": "scanning", "progress": 10, "statusText": "æ‰«æä¸­", "targetCount": 1}, {"index": 1, "name": "Under Armour", "status": "scanning", "progress": 13, "statusText": "æ‰«æä¸­", "targetCount": 1}, {"index": 2, "name": "Zendesk", "status": "scanning", "progress": 16, "statusText": "æ‰«æä¸­", "targetCount": 1}, {"index": 3, "name": "The Fork", "status": "scanning", "progress": 19, "statusText": "æ‰«æä¸­", "targetCount": 1}, {"index": 4, "name": "Anytask", "status": "scanning", "progress": 22, "statusText": "æ‰«æä¸­", "targetCount": 1}, {"index": 5, "name": "UltraMobile", "status": "scanning", "progress": 25, "statusText": "æ‰«æä¸­", "targetCount": 1}, {"index": 6, "name": "Entain", "status": "scanning", "progress": 28, "statusText": "æ‰«æä¸­", "targetCount": 1}, {"index": 7, "name": "Glean", "status": "scanning", "progress": 31, "statusText": "æ‰«æä¸­", "targetCount": 1}, {"index": 8, "name": "Sophos", "status": "scanning", "progress": 34, "statusText": "æ‰«æä¸­", "targetCount": 1}, {"index": 9, "name": "OpenAI", "status": "scanning", "progress": 37, "statusText": "æ‰«æä¸­", "targetCount": 1}, {"index": 10, "name": "Pinterest", "status": "scanning", "progress": 40, "statusText": "æ‰«æä¸­", "targetCount": 1}, {"index": 11, "name": "T-Mobile", "status": "scanning", "progress": 43, "statusText": "æ‰«æä¸­", "targetCount": 1}, {"index": 12, "name": "LastPass", "status": "scanning", "progress": 46, "statusText": "æ‰«æä¸­", "targetCount": 1}, {"index": 13, "name": "SoundCloud", "status": "scanning", "progress": 49, "statusText": "æ‰«æä¸­", "targetCount": 1}, {"index": 14, "name": "Linktree", "status": "scanning", "progress": 52, "statusText": "æ‰«æä¸­", "targetCount": 1}, {"index": 15, "name": "Skyscanner", "status": "scanning", "progress": 55, "statusText": "æ‰«æä¸­", "targetCount": 1}, {"index": 16, "name": "CoinDesk", "status": "scanning", "progress": 58, "statusText": "æ‰«æä¸­", "targetCount": 1}, {"index": 17, "name": "HPE Aruba", "status": "scanning", "progress": 61, "statusText": "æ‰«æä¸­", "targetCount": 1}, {"index": 18, "name": "Seek", "status": "scanning", "progress": 64, "statusText": "æ‰«æä¸­", "targetCount": 1}, {"index": 19, "name": "Sendbird", "status": "scanning", "progress": 67, "statusText": "æ‰«æä¸­", "targetCount": 1}, {"index": 20, "name": "Quizlet", "status": "waiting", "progress": 70, "statusText": "ç­‰å¾…ä¸­", "targetCount": 1}, {"index": 21, "name": "Origin Energy", "status": "waiting", "progress": 73, "statusText": "ç­‰å¾…ä¸­", "targetCount": 1}, {"index": 22, "name": "eazyBI", "status": "waiting", "progress": 76, "statusText": "ç­‰å¾…ä¸­", "targetCount": 1}, {"index": 23, "name": "The Hut Group", "status": "waiting", "progress": 79, "statusText": "ç­‰å¾…ä¸­", "targetCount": 1}, {"index": 24, "name": "Flourish", "status": "waiting", "progress": 82, "statusText": "ç­‰å¾…ä¸­", "targetCount": 1}, {"index": 25, "name": "Personal Capital", "status": "waiting", "progress": 85, "statusText": "ç­‰å¾…ä¸­", "targetCount": 1}, {"index": 26, "name": "Kiteworks", "status": "waiting", "progress": 88, "statusText": "ç­‰å¾…ä¸­", "targetCount": 1}, {"index": 27, "name": "CoinDesk Mobile", "status": "waiting", "progress": 11, "statusText": "ç­‰å¾…ä¸­", "targetCount": 1}, {"index": 28, "name": "Xfinity", "status": "waiting", "progress": 14, "statusText": "ç­‰å¾…ä¸­", "targetCount": 1}, {"index": 29, "name": "Backblaze", "status": "waiting", "progress": 17, "statusText": "ç­‰å¾…ä¸­", "targetCount": 1}];
        const fullProjectsData = [{"name": "Tripadvisor", "status": "scanning", "progress": 10, "targets": [{"name": "www.tripadvisor.com", "tools": [{"name": "Strix", "status": "scanning", "progress": 10, "scanned": 100, "found": 0, "endpoints": ["/api/", "/login", "/products"]}, {"name": "Nikto", "status": "scanning", "progress": 5, "scanned": 50, "found": 0, "vulns": ["Apache negotiation"]}, {"name": "Nmap", "status": "done", "progress": 100, "scanned": 1000, "found": 3, "ports": ["80", "443"]}]}]}, {"name": "Under Armour", "status": "scanning", "progress": 13, "targets": [{"name": "www.underarmour.com", "tools": [{"name": "Strix", "status": "scanning", "progress": 13, "scanned": 150, "found": 1, "endpoints": ["/api/", "/login", "/products"]}, {"name": "Nikto", "status": "scanning", "progress": 7, "scanned": 70, "found": 1, "vulns": []}, {"name": "Nmap", "status": "done", "progress": 100, "scanned": 1000, "found": 4, "ports": ["80", "443"]}]}]}, {"name": "Zendesk", "status": "scanning", "progress": 16, "targets": [{"name": "www.zendesk.com", "tools": [{"name": "Strix", "status": "scanning", "progress": 16, "scanned": 200, "found": 2, "endpoints": ["/api/", "/login", "/products"]}, {"name": "Nikto", "status": "scanning", "progress": 9, "scanned": 90, "found": 2, "vulns": []}, {"name": "Nmap", "status": "done", "progress": 100, "scanned": 1000, "found": 5, "ports": ["80", "443"]}]}]}, {"name": "The Fork", "status": "scanning", "progress": 19, "targets": [{"name": "www.thefork.com", "tools": [{"name": "Strix", "status": "scanning", "progress": 19, "scanned": 250, "found": 3, "endpoints": ["/api/", "/login", "/products"]}, {"name": "Nikto", "status": "scanning", "progress": 11, "scanned": 110, "found": 0, "vulns": ["Apache negotiation"]}, {"name": "Nmap", "status": "done", "progress": 100, "scanned": 1000, "found": 6, "ports": ["80", "443"]}]}]}, {"name": "Anytask", "status": "scanning", "progress": 22, "targets": [{"name": "www.anytask.com", "tools": [{"name": "Strix", "status": "scanning", "progress": 22, "scanned": 300, "found": 4, "endpoints": ["/api/", "/login", "/products"]}, {"name": "Nikto", "status": "scanning", "progress": 13, "scanned": 130, "found": 1, "vulns": []}, {"name": "Nmap", "status": "done", "progress": 100, "scanned": 1000, "found": 7, "ports": ["80", "443"]}]}]}, {"name": "UltraMobile", "status": "scanning", "progress": 25, "targets": [{"name": "www.ultramobile.com", "tools": [{"name": "Strix", "status": "scanning", "progress": 25, "scanned": 350, "found": 0, "endpoints": ["/api/", "/login", "/products"]}, {"name": "Nikto", "status": "scanning", "progress": 15, "scanned": 150, "found": 2, "vulns": []}, {"name": "Nmap", "status": "scanning", "progress": 55, "scanned": 1000, "found": 8, "ports": ["80", "443"]}]}]}, {"name": "Entain", "status": "scanning", "progress": 28, "targets": [{"name": "www.entain.com", "tools": [{"name": "Strix", "status": "scanning", "progress": 28, "scanned": 400, "found": 1, "endpoints": ["/api/", "/login", "/products"]}, {"name": "Nikto", "status": "scanning", "progress": 17, "scanned": 170, "found": 0, "vulns": ["Apache negotiation"]}, {"name": "Nmap", "status": "scanning", "progress": 60, "scanned": 1000, "found": 9, "ports": ["80", "443"]}]}]}, {"name": "Glean", "status": "scanning", "progress": 31, "targets": [{"name": "www.glean.com", "tools": [{"name": "Strix", "status": "scanning", "progress": 31, "scanned": 450, "found": 2, "endpoints": ["/api/", "/login", "/products"]}, {"name": "Nikto", "status": "scanning", "progress": 19, "scanned": 190, "found": 1, "vulns": []}, {"name": "Nmap", "status": "scanning", "progress": 65, "scanned": 1000, "found": 10, "ports": ["80", "443"]}]}]}, {"name": "Sophos", "status": "scanning", "progress": 34, "targets": [{"name": "www.sophos.com", "tools": [{"name": "Strix", "status": "scanning", "progress": 34, "scanned": 500, "found": 3, "endpoints": ["/api/", "/login", "/products"]}, {"name": "Nikto", "status": "scanning", "progress": 21, "scanned": 210, "found": 2, "vulns": []}, {"name": "Nmap", "status": "scanning", "progress": 70, "scanned": 1000, "found": 3, "ports": ["80", "443"]}]}]}, {"name": "OpenAI", "status": "scanning", "progress": 37, "targets": [{"name": "www.openai.com", "tools": [{"name": "Strix", "status": "scanning", "progress": 37, "scanned": 550, "found": 4, "endpoints": ["/api/", "/login", "/products"]}, {"name": "Nikto", "status": "scanning", "progress": 23, "scanned": 230, "found": 0, "vulns": ["Apache negotiation"]}, {"name": "Nmap", "status": "scanning", "progress": 75, "scanned": 1000, "found": 4, "ports": ["80", "443"]}]}]}, {"name": "Pinterest", "status": "scanning", "progress": 40, "targets": [{"name": "www.pinterest.com", "tools": [{"name": "Strix", "status": "scanning", "progress": 40, "scanned": 600, "found": 0, "endpoints": ["/api/", "/login", "/products"]}, {"name": "Nikto", "status": "scanning", "progress": 25, "scanned": 250, "found": 1, "vulns": []}, {"name": "Nmap", "status": "waiting", "progress": 80, "scanned": 1000, "found": 5, "ports": ["80", "443"]}]}]}, {"name": "T-Mobile", "status": "scanning", "progress": 43, "targets": [{"name": "www.t-mobile.com", "tools": [{"name": "Strix", "status": "scanning", "progress": 43, "scanned": 650, "found": 1, "endpoints": ["/api/", "/login", "/products"]}, {"name": "Nikto", "status": "scanning", "progress": 27, "scanned": 270, "found": 2, "vulns": []}, {"name": "Nmap", "status": "waiting", "progress": 85, "scanned": 1000, "found": 6, "ports": ["80", "443"]}]}]}, {"name": "LastPass", "status": "scanning", "progress": 46, "targets": [{"name": "www.lastpass.com", "tools": [{"name": "Strix", "status": "scanning", "progress": 46, "scanned": 700, "found": 2, "endpoints": ["/api/", "/login", "/products"]}, {"name": "Nikto", "status": "scanning", "progress": 29, "scanned": 290, "found": 0, "vulns": ["Apache negotiation"]}, {"name": "Nmap", "status": "waiting", "progress": 90, "scanned": 1000, "found": 7, "ports": ["80", "443"]}]}]}, {"name": "SoundCloud", "status": "scanning", "progress": 49, "targets": [{"name": "www.soundcloud.com", "tools": [{"name": "Strix", "status": "scanning", "progress": 49, "scanned": 750, "found": 3, "endpoints": ["/api/", "/login", "/products"]}, {"name": "Nikto", "status": "scanning", "progress": 31, "scanned": 310, "found": 1, "vulns": []}, {"name": "Nmap", "status": "waiting", "progress": 95, "scanned": 1000, "found": 8, "ports": ["80", "443"]}]}]}, {"name": "Linktree", "status": "scanning", "progress": 52, "targets": [{"name": "www.linktree.com", "tools": [{"name": "Strix", "status": "scanning", "progress": 52, "scanned": 800, "found": 4, "endpoints": ["/api/", "/login", "/products"]}, {"name": "Nikto", "status": "scanning", "progress": 33, "scanned": 330, "found": 2, "vulns": []}, {"name": "Nmap", "status": "waiting", "progress": 100, "scanned": 1000, "found": 9, "ports": ["80", "443"]}]}]}, {"name": "Skyscanner", "status": "scanning", "progress": 55, "targets": [{"name": "www.skyscanner.com", "tools": [{"name": "Strix", "status": "scanning", "progress": 55, "scanned": 850, "found": 0, "endpoints": ["/api/", "/login", "/products"]}, {"name": "Nikto", "status": "waiting", "progress": 35, "scanned": 350, "found": 0, "vulns": ["Apache negotiation"]}, {"name": "Nmap", "status": "waiting", "progress": 105, "scanned": 1000, "found": 10, "ports": ["80", "443"]}]}]}, {"name": "CoinDesk", "status": "scanning", "progress": 58, "targets": [{"name": "www.coindesk.com", "tools": [{"name": "Strix", "status": "scanning", "progress": 58, "scanned": 900, "found": 1, "endpoints": ["/api/", "/login", "/products"]}, {"name": "Nikto", "status": "waiting", "progress": 37, "scanned": 370, "found": 1, "vulns": []}, {"name": "Nmap", "status": "waiting", "progress": 110, "scanned": 1000, "found": 3, "ports": ["80", "443"]}]}]}, {"name": "HPE Aruba", "status": "scanning", "progress": 61, "targets": [{"name": "www.hpearuba.com", "tools": [{"name": "Strix", "status": "scanning", "progress": 61, "scanned": 950, "found": 2, "endpoints": ["/api/", "/login", "/products"]}, {"name": "Nikto", "status": "waiting", "progress": 39, "scanned": 390, "found": 2, "vulns": []}, {"name": "Nmap", "status": "waiting", "progress": 115, "scanned": 1000, "found": 4, "ports": ["80", "443"]}]}]}, {"name": "Seek", "status": "scanning", "progress": 64, "targets": [{"name": "www.seek.com", "tools": [{"name": "Strix", "status": "scanning", "progress": 64, "scanned": 1000, "found": 3, "endpoints": ["/api/", "/login", "/products"]}, {"name": "Nikto", "status": "waiting", "progress": 41, "scanned": 410, "found": 0, "vulns": ["Apache negotiation"]}, {"name": "Nmap", "status": "waiting", "progress": 120, "scanned": 1000, "found": 5, "ports": ["80", "443"]}]}]}, {"name": "Sendbird", "status": "scanning", "progress": 67, "targets": [{"name": "www.sendbird.com", "tools": [{"name": "Strix", "status": "scanning", "progress": 67, "scanned": 1050, "found": 4, "endpoints": ["/api/", "/login", "/products"]}, {"name": "Nikto", "status": "waiting", "progress": 43, "scanned": 430, "found": 1, "vulns": []}, {"name": "Nmap", "status": "waiting", "progress": 125, "scanned": 1000, "found": 6, "ports": ["80", "443"]}]}]}, {"name": "Quizlet", "status": "waiting", "progress": 70, "targets": [{"name": "www.quizlet.com", "tools": [{"name": "Strix", "status": "waiting", "progress": 70, "scanned": 1100, "found": 0, "endpoints": ["/api/", "/login", "/products"]}, {"name": "Nikto", "status": "waiting", "progress": 45, "scanned": 450, "found": 2, "vulns": []}, {"name": "Nmap", "status": "waiting", "progress": 130, "scanned": 1000, "found": 7, "ports": ["80", "443"]}]}]}, {"name": "Origin Energy", "status": "waiting", "progress": 73, "targets": [{"name": "www.originenergy.com", "tools": [{"name": "Strix", "status": "waiting", "progress": 73, "scanned": 1150, "found": 1, "endpoints": ["/api/", "/login", "/products"]}, {"name": "Nikto", "status": "waiting", "progress": 47, "scanned": 470, "found": 0, "vulns": ["Apache negotiation"]}, {"name": "Nmap", "status": "waiting", "progress": 135, "scanned": 1000, "found": 8, "ports": ["80", "443"]}]}]}, {"name": "eazyBI", "status": "waiting", "progress": 76, "targets": [{"name": "www.eazybi.com", "tools": [{"name": "Strix", "status": "waiting", "progress": 76, "scanned": 1200, "found": 2, "endpoints": ["/api/", "/login", "/products"]}, {"name": "Nikto", "status": "waiting", "progress": 49, "scanned": 490, "found": 1, "vulns": []}, {"name": "Nmap", "status": "waiting", "progress": 140, "scanned": 1000, "found": 9, "ports": ["80", "443"]}]}]}, {"name": "The Hut Group", "status": "waiting", "progress": 79, "targets": [{"name": "www.thehutgroup.com", "tools": [{"name": "Strix", "status": "waiting", "progress": 79, "scanned": 1250, "found": 3, "endpoints": ["/api/", "/login", "/products"]}, {"name": "Nikto", "status": "waiting", "progress": 51, "scanned": 510, "found": 2, "vulns": []}, {"name": "Nmap", "status": "waiting", "progress": 145, "scanned": 1000, "found": 10, "ports": ["80", "443"]}]}]}, {"name": "Flourish", "status": "waiting", "progress": 82, "targets": [{"name": "www.flourish.com", "tools": [{"name": "Strix", "status": "waiting", "progress": 82, "scanned": 1300, "found": 4, "endpoints": ["/api/", "/login", "/products"]}, {"name": "Nikto", "status": "waiting", "progress": 53, "scanned": 530, "found": 0, "vulns": ["Apache negotiation"]}, {"name": "Nmap", "status": "waiting", "progress": 150, "scanned": 1000, "found": 3, "ports": ["80", "443"]}]}]}, {"name": "Personal Capital", "status": "waiting", "progress": 85, "targets": [{"name": "www.personalcapital.com", "tools": [{"name": "Strix", "status": "waiting", "progress": 85, "scanned": 1350, "found": 0, "endpoints": ["/api/", "/login", "/products"]}, {"name": "Nikto", "status": "waiting", "progress": 55, "scanned": 550, "found": 1, "vulns": []}, {"name": "Nmap", "status": "waiting", "progress": 155, "scanned": 1000, "found": 4, "ports": ["80", "443"]}]}]}, {"name": "Kiteworks", "status": "waiting", "progress": 88, "targets": [{"name": "www.kiteworks.com", "tools": [{"name": "Strix", "status": "waiting", "progress": 88, "scanned": 1400, "found": 1, "endpoints": ["/api/", "/login", "/products"]}, {"name": "Nikto", "status": "waiting", "progress": 57, "scanned": 570, "found": 2, "vulns": []}, {"name": "Nmap", "status": "waiting", "progress": 160, "scanned": 1000, "found": 5, "ports": ["80", "443"]}]}]}, {"name": "CoinDesk Mobile", "status": "waiting", "progress": 11, "targets": [{"name": "www.coindeskmobile.com", "tools": [{"name": "Strix", "status": "waiting", "progress": 11, "scanned": 1450, "found": 2, "endpoints": ["/api/", "/login", "/products"]}, {"name": "Nikto", "status": "waiting", "progress": 59, "scanned": 590, "found": 0, "vulns": ["Apache negotiation"]}, {"name": "Nmap", "status": "waiting", "progress": 165, "scanned": 1000, "found": 6, "ports": ["80", "443"]}]}]}, {"name": "Xfinity", "status": "waiting", "progress": 14, "targets": [{"name": "www.xfinity.com", "tools": [{"name": "Strix", "status": "waiting", "progress": 14, "scanned": 1500, "found": 3, "endpoints": ["/api/", "/login", "/products"]}, {"name": "Nikto", "status": "waiting", "progress": 61, "scanned": 610, "found": 1, "vulns": []}, {"name": "Nmap", "status": "waiting", "progress": 170, "scanned": 1000, "found": 7, "ports": ["80", "443"]}]}]}, {"name": "Backblaze", "status": "waiting", "progress": 17, "targets": [{"name": "www.backblaze.com", "tools": [{"name": "Strix", "status": "waiting", "progress": 17, "scanned": 1550, "found": 4, "endpoints": ["/api/", "/login", "/products"]}, {"name": "Nikto", "status": "waiting", "progress": 63, "scanned": 630, "found": 2, "vulns": []}, {"name": "Nmap", "status": "waiting", "progress": 175, "scanned": 1000, "found": 8, "ports": ["80", "443"]}]}]}];
        
        let currentPage = 1;
        let pageSize = 8;
        let currentFilter = 'all';
        let searchTerm = '';
        
        console.log('åŠ è½½äº† ' + projectsData.length + ' ä¸ªé¡¹ç›®');
        
        function renderProjects() {
            const grid = document.getElementById('targetsGrid');
            const filtered = projectsData.filter(p => {
                const matchFilter = currentFilter === 'all' || p.status === currentFilter;
                const matchSearch = p.name.toLowerCase().includes(searchTerm.toLowerCase());
                return matchFilter && matchSearch;
            });
            
            const total = filtered.length;
            const start = (currentPage - 1) * pageSize;
            const end = start + pageSize;
            const pageData = filtered.slice(start, end);
            
            if (pageData.length === 0) {
                grid.innerHTML = '<div class="empty-state">æ²¡æœ‰æ‰¾åˆ°åŒ¹é…çš„é¡¹ç›®</div>';
                document.getElementById('pageInfo').textContent = 'å…± 0 ä¸ªé¡¹ç›®';
                document.getElementById('pagination').innerHTML = '';
                return;
            }
            
            grid.innerHTML = pageData.map(p => `
                <div class="target-card ${p.status}" data-index="${p.index}" onclick="openModal(${p.index})">
                    <div class="card-header">
                        <span class="card-title">${p.name}</span>
                        <span class="status-badge ${p.status}">${p.statusText}</span>
                    </div>
                    <div class="card-body">
                        <div class="progress-row">
                            <span class="progress-label">è¿›åº¦</span>
                            <span class="progress-value">${p.progress}%</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: ${p.progress}%"></div>
                        </div>
                        <div class="target-count">æ‰«æç›®æ ‡: ${p.targetCount} ä¸ª</div>
                    </div>
                </div>
            `).join('');
            
            document.getElementById('pageInfo').textContent = `ç¬¬ ${currentPage} / ${Math.ceil(total/pageSize)} é¡µï¼Œå…± ${total} ä¸ªé¡¹ç›®`;
            renderPagination(Math.ceil(total / pageSize));
        }
        
        function renderPagination(totalPages) {
            const pag = document.getElementById('pagination');
            if (totalPages <= 1) { pag.innerHTML = ''; return; }
            
            let html = `<button class="page-btn" onclick="goPage(1)" ${currentPage === 1 ? 'disabled' : ''}>é¦–é¡µ</button>`;
            html += `<button class="page-btn" onclick="goPage(${currentPage - 1})" ${currentPage === 1 ? 'disabled' : ''}>ä¸Šä¸€é¡µ</button>`;
            
            for (let i = Math.max(1, currentPage - 2); i <= Math.min(totalPages, currentPage + 2); i++) {
                html += `<button class="page-btn ${i === currentPage ? 'active' : ''}" onclick="goPage(${i})">${i}</button>`;
            }
            
            html += `<button class="page-btn" onclick="goPage(${currentPage + 1})" ${currentPage === totalPages ? 'disabled' : ''}>ä¸‹ä¸€é¡µ</button>`;
            html += `<button class="page-btn" onclick="goPage(${totalPages})" ${currentPage === totalPages ? 'disabled' : ''}>æœ«é¡µ</button>`;
            
            pag.innerHTML = html;
        }
        
        function goPage(page) {
            currentPage = page;
            renderProjects();
        }
        
        function changePageSize() {
            pageSize = parseInt(document.getElementById('pageSize').value);
            currentPage = 1;
            renderProjects();
        }
        
        function setFilter(filter) {
            currentFilter = filter;
            currentPage = 1;
            document.querySelectorAll('.filter-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            renderProjects();
        }
        
        function filterProjects() {
            searchTerm = document.getElementById('searchInput').value;
            currentPage = 1;
            renderProjects();
        }
        
        function openModal(index) {
            console.log('æ‰“å¼€Modal, index:', index);
            
            const cardData = projectsData.find(p => p.index === index);
            if (!cardData) {
                console.error('æœªæ‰¾åˆ°é¡¹ç›®æ•°æ®:', index);
                return;
            }
            
            const fullProject = fullProjectsData.find(p => p.name === cardData.name);
            if (!fullProject) {
                console.error('æœªæ‰¾åˆ°å®Œæ•´é¡¹ç›®æ•°æ®:', cardData.name);
                return;
            }
            
            document.getElementById('modalTitle').textContent = cardData.name;
            
            const statusText = {"scanning": "æ‰«æä¸­", "done": "å·²å®Œæˆ", "waiting": "ç­‰å¾…ä¸­", "completed": "å·²å®Œæˆ"}[cardData.status] || "æœªçŸ¥";
            
            let modalHtml = `
                <div class="modal-progress">
                    <div class="row">
                        <span class="label">çŠ¶æ€</span>
                        <span class="status-badge ${cardData.status}">${statusText}</span>
                    </div>
                    <div class="row">
                        <span class="label">è¿›åº¦</span>
                        <span class="value" style="color:#3fb950">${cardData.progress}%</span>
                    </div>
                    <div class="bar"><div class="fill" style="width:${cardData.progress}%"></div></div>
                </div>
            `;
            
            if (fullProject.targets && fullProject.targets.length > 0) {
                modalHtml += '<div class="sub-targets"><h3>æ‰«æç›®æ ‡</h3>';
                
                fullProject.targets.forEach(t => {
                    modalHtml += `<div class="sub-target">
                        <div class="sub-header">
                            <span class="sub-url">ğŸ“ ${t.name}</span>
                            <span class="sub-tools-count">${t.tools ? t.tools.length : 0} ä¸ªå·¥å…·</span>
                        </div>
                        <div class="tools-list">`;
                    
                    if (t.tools) {
                        t.tools.forEach(tool => {
                            let detail = '';
                            if (tool.name === 'Strix') {
                                const eps = tool.endpoints ? tool.endpoints.slice(0, 5).join(', ') : 'æ— ';
                                detail = `<div class="detail-row"><span class="label">å·²æ‰«æ:</span><span class="value">${tool.scanned || 0} URL</span></div>
                                    <div class="detail-row"><span class="label">å‘ç°ç«¯ç‚¹:</span><span class="value highlight">${tool.found || 0}</span></div>
                                    <div class="detail-row"><span class="label">ç«¯ç‚¹åˆ—è¡¨:</span><span class="value">${eps}</span></div>`;
                            } else if (tool.name === 'Nikto') {
                                const vulns = tool.vulns ? tool.vulns.join(', ') : 'æ— ';
                                detail = `<div class="detail-row"><span class="label">å·²æ‰«æ:</span><span class="value">${tool.scanned || 0} é¡¹</span></div>
                                    <div class="detail-row"><span class="label">å‘ç°é—®é¢˜:</span><span class="value highlight">${tool.found || 0}</span></div>
                                    <div class="detail-row"><span class="label">é—®é¢˜:</span><span class="value">${vulns}</span></div>`;
                            } else if (tool.name === 'Nmap') {
                                const ports = tool.ports ? tool.ports.join(', ') : 'ç­‰å¾…';
                                detail = `<div class="detail-row"><span class="label">å·²æ‰«æ:</span><span class="value">${tool.scanned || 0} IP</span></div>
                                    <div class="detail-row"><span class="label">å¼€æ”¾ç«¯å£:</span><span class="value highlight">${tool.found || 0}</span></div>
                                    <div class="detail-row"><span class="label">ç«¯å£:</span><span class="value">${ports}</span></div>`;
                            }
                            
                            const toolStatusText = {"scanning": "æ‰«æä¸­", "done": "å·²å®Œæˆ", "waiting": "ç­‰å¾…ä¸­", "completed": "å·²å®Œæˆ"}[tool.status] || "æœªçŸ¥";
                            const toolStatusClass = tool.status;
                            
                            modalHtml += `<div class="tool-item">
                                <div class="tool-header">
                                    <span class="tool-name tool-${tool.name.toLowerCase()}">${tool.name}</span>
                                    <span class="tool-status ${toolStatusClass}">${toolStatusText}</span>
                                </div>
                                <div class="tool-progress-row">
                                    <div class="tool-progress-bar"><div class="tool-progress-fill" style="width:${tool.progress || 0}%"></div></div>
                                    <span class="tool-progress-num">${tool.progress || 0}%</span>
                                </div>
                                <div class="tool-detail">${detail}</div>
                            </div>`;
                        });
                    }
                    
                    modalHtml += '</div></div>';
                });
                
                modalHtml += '</div>';
            }
            
            document.getElementById('modalBody').innerHTML = modalHtml;
            document.getElementById('modalOverlay').classList.add('show');
        }
        
        function closeModal() {
            document.getElementById('modalOverlay').classList.remove('show');
        }
        
        // ç‚¹å‡»é®ç½©å…³é—­
        document.getElementById('modalOverlay').addEventListener('click', function(e) {
            if (e.target === this) {
                closeModal();
            }
        });
        
        // ESCé”®å…³é—­
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                closeModal();
            }
        });
        
        // åˆå§‹åŒ–
        renderProjects();
    </script>
</body>
</html>